<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/app.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="js/vendor/vue/dist/vue.js"></script>

    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div class="wrap">
            <header>
                <h1>Cube Clock</h1>
            </header>
            <div class="clockwrap" style="background: #222222;min-height: 50px">
                <div class="clock center">
                    <div class="front">{{msg}}</div>
                    <div class="back">{{msg}}</div>
                    <div class="left">{{msg}}</div>
                    <div class="right">{{msg}}</div>
                    <div class="top">{{msg}}</div>
                    <div class="bottom">{{msg}}</div>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
        <script>
            function getRandomInt(min, max) {
                return Math.floor(Math.random() * (max - min)) + min;
            }
            $(document).ready(function(){
                //设置高度
                var clockWidth = 0;
                $('.clock').height(function(){
                    clockWidth = $(this).width();
                    return clockWidth;
                });
                var $clockDiv = $('.clock div');
                $clockDiv.width(clockWidth).height(clockWidth);
                $.each($clockDiv,function(i,v){
                    var r = getRandomInt(0,255);
                    var g = getRandomInt(0,255);
                    var b = getRandomInt(0,255);
                   $(v).css({
                       'background-color':'rgba('+r+','+g+','+b+',0.8)',
                       'box-shadow': '0 0 50px 0 ' +'rgba('+r+','+g+','+b+',1)',
                       'line-height':clockWidth+'px'
                   });
                });
                $('.front').css({
                    'transform': 'translateZ('+ (clockWidth/2)+'px)',
                });
                $('.back').css({
                    'transform': 'translateZ('+ (-clockWidth/2)+'px) rotateY(180deg)'
                });
                $('.top').css({
                    'transform': 'translateY('+ (-clockWidth/2)+'px) rotateX(90deg)'
                });
                $('.bottom').css({
                    'transform': 'translateY('+ (clockWidth/2)+'px) rotateX(-90deg)'
                });
                $('.left').css({
                    'transform': 'translateX('+ (-clockWidth/2)+'px) rotateY(-90deg)'
                });
                $('.right').css({
                    'transform': 'translateX('+ (clockWidth/2)+'px) rotateY(90deg)'
                });
            });
            var _n = 0;
            var _d = {
                msg:123,
                txt:456
            };
            var v = new Vue({
                el:'.clockwrap',
                data:_d
            });

            Vue.filter('testf',function(v){
                return v*100;
            });

            var ft = function(){
                var _st = setTimeout(function(){
                    ft();
                    clearTimeout(_st);
                },1000);
                _n++;
                if(_n>=60){
                    _n = 0;
                }
                var deg = getRandomInt(1,10);
                var XY = _n%2 == 0 ? 'rotateX('+deg*90+'deg)':'rotateY('+deg*90+'deg)';
                $('.clock').css({
                   'transform':XY
                });
                _d = {
                    msg: new Date().toLocaleTimeString(),
                    txt:_n
                };
                v.$data = _d;
            };
            ft();

        </script>

    </body>
</html>
